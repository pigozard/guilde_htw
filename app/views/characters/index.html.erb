<div class="container mt-4">
  <h1 class="text-center mb-5">Roster Midnight ðŸŒ™</h1>

  <!-- Compteurs de rÃ´les -->
  <div class="row justify-content-center mb-5">
    <%= render "role_counter", role: "tank", count: @role_counts["tank"] || 0, label: "Tanks" %>
    <%= render "role_counter", role: "healer", count: @role_counts["healer"] || 0, label: "Healers" %>
    <%= render "role_counter", role: "dps_cac", count: @role_counts["dps_cac"] || 0, label: "DPS CAC" %>
    <%= render "role_counter", role: "dps_caster", count: @role_counts["dps_caster"] || 0, label: "Casters" %>
    <%= render "role_counter", role: "flex", count: @flex_count, label: "Flex" %>
  </div>

  <!-- Bouton d'ajout -->
  <div class="text-center mb-5">
    <% if user_signed_in? %>
      <%= link_to "Ajouter mon perso", new_character_path, class: "btn btn-roster btn-lg" %>
    <% else %>
      <%= link_to "Connecte-toi pour ajouter ton perso", new_user_session_path, class: "btn btn-secondary btn-lg" %>
    <% end %>
  </div>

  <!-- Liste des persos -->
  <% if @characters.any? %>
    <table class="table roster-table">
      <thead>
        <tr>
          <th>Pseudo</th>
          <th>Classe</th>
          <th>SpÃ©</th>
          <th>RÃ´le</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%= render @characters %>
      </tbody>
    </table>
  <% else %>
    <p class="text-center empty-message">Aucun perso inscrit pour le moment.</p>
  <% end %>
</div>
